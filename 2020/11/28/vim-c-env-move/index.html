<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"amikai.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!0,pangu:!0,comments:{style:"tabs",active:"gitalk",storage:!0,lazyload:!1,nav:null,activeClass:"gitalk"},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="現代的專案開發，很少在從無到有打造，大部分都是基於現有的程式之上繼續開發或維護，進入專案之後，通常第一件事就是大量閱讀程式碼理清專案的整個脈絡，才開始著手寫 code，所以好的程式碼導覽技巧將會帶你上天堂。 我將大部分的程式碼導覽情境大致拆成了三種情況：  基本的跳轉： #if #endif 中間的程式碼太長，想要跳轉到成對的 #if #endif  cursor 在 {…} block 裡， 這"><meta property="og:type" content="article"><meta property="og:title" content="在 (neo)vim 裡 C 語言程式碼導覽技巧"><meta property="og:url" content="https://amikai.github.io/2020/11/28/vim-c-env-move/index.html"><meta property="og:site_name" content="no code no pain"><meta property="og:description" content="現代的專案開發，很少在從無到有打造，大部分都是基於現有的程式之上繼續開發或維護，進入專案之後，通常第一件事就是大量閱讀程式碼理清專案的整個脈絡，才開始著手寫 code，所以好的程式碼導覽技巧將會帶你上天堂。 我將大部分的程式碼導覽情境大致拆成了三種情況：  基本的跳轉： #if #endif 中間的程式碼太長，想要跳轉到成對的 #if #endif  cursor 在 {…} block 裡， 這"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://amikai.github.io/2020/11/28/vim-c-env-move/vim_gf.gif"><meta property="og:image" content="https://amikai.github.io/2020/11/28/vim-c-env-move/vim_cscope.png"><meta property="article:published_time" content="2020-11-28T13:50:57.000Z"><meta property="article:modified_time" content="2020-11-28T18:02:52.844Z"><meta property="article:author" content="amikai"><meta property="article:tag" content="vim"><meta property="article:tag" content="neovim"><meta property="article:tag" content="c"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://amikai.github.io/2020/11/28/vim-c-env-move/vim_gf.gif"><link rel="canonical" href="https://amikai.github.io/2020/11/28/vim-c-env-move/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"en"}</script><title>在 (neo)vim 裡 C 語言程式碼導覽技巧 | no code no pain</title><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-172478407-1"></script><script>if(CONFIG.hostname===location.hostname){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-172478407-1")}</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="no code no pain" type="application/atom+xml"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">no code no pain</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">amikai notes</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> Archives</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/amikai" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener noreferrer" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/11/28/vim-c-env-move/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> 在 (neo)vim 裡 C 語言程式碼導覽技巧</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-11-28 21:50:57" itemprop="dateCreated datePublished" datetime="2020-11-28T21:50:57+08:00">2020-11-28</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-11-29 02:02:52" itemprop="dateModified" datetime="2020-11-29T02:02:52+08:00">2020-11-29</time></span><span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">Views:</span><span id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body" itemprop="articleBody"><p>現代的專案開發，很少在從無到有打造，大部分都是基於現有的程式之上繼續開發或維護，進入專案之後，通常第一件事就是大量閱讀程式碼理清專案的整個脈絡，才開始著手寫 code，所以好的程式碼導覽技巧將會帶你上天堂。</p><p>我將大部分的程式碼導覽情境大致拆成了三種情況：</p><ul><li>基本的跳轉：<ul><li><code>#if</code> <code>#endif</code> 中間的程式碼太長，想要跳轉到成對的 <code>#if</code> <code>#endif</code></li><li>cursor 在 {…} block 裡， 這個 block 又臭又長，想快速跳轉 block 的開頭和結尾</li><li>註解長篇大論，想快速跳到註解的開頭或結尾</li></ul></li><li>尋找專案下檔案 (可透過設定 path option 解決)<ul><li>跳轉到標頭檔</li><li>跳轉到指定檔案</li></ul></li><li>使用 source code tagging system 快速挑轉到 function 定義及特定 symbol 等等：<br>專案相當大的時候，source code tagging system 相當好用，可以快速找到定位，也不會花掉太多的資源，比起 LSP 的跳轉定義，是較輕量的選擇。</li></ul><p>本篇依據上述三種情境，一一講述。<br><a id="more"></a></p><h1 id="常用跳轉操作"><a href="#常用跳轉操作" class="headerlink" title="常用跳轉操作"></a>常用跳轉操作</h1><ul><li><p><code>%</code></p><ul><li>跳到成對的括號</li><li>如果註解是 <code>/*...*/</code>，跳到成對的註解符號</li><li>在成對的 <code>#if</code>, <code>#ifdef</code>, <code>#else</code>, <code>#elif</code>, <code>#endif</code> 之中跳轉，這相當重要，如果 code 很長, if else macro 又是巢狀的，這招可以讓你少迷路好幾次</li></ul></li><li><p><code>[{</code> <code>]}</code></p><ul><li><code>[{</code>：若 cursor 在 {…} 區塊中，跳到此區塊的 {</li><li><code>]}</code>：若 cursor 在 {…} 區塊中，跳到此區塊的 }</li></ul></li><li><p><code>[*</code> <code>]*</code></p><ul><li><code>[*</code>：找到上一個 /*</li><li><code>]*</code>：找到下一個 */</li></ul></li></ul><ul><li><p><code>[#</code> <code>]#</code><br> 用法和 <code>[{</code> <code>]}</code> 類似，但是針對的是 <code>#</code><br> 在 line2 區塊 <code>[{</code> 跳到 line1, <code>]}</code> 跳到 line3<br> 在 line4 區塊 <code>[{</code> 跳到 line3, <code>]}</code> 跳到 line5<br> 在 line6 區塊 <code>[{</code> 跳到 line5, <code>]}</code> 跳到 line7</p><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> TEST</span></span><br><span class="line"><span class="comment">// line2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">elif</span> TEST2</span></span><br><span class="line"><span class="comment">// line4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="comment">// line6</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></tbody></table></figure><p> 若 cursor 在 #else…#endif 區塊中，跳到 #else</p></li></ul><h1 id="透過-path-設定，快速查找相關檔案"><a href="#透過-path-設定，快速查找相關檔案" class="headerlink" title="透過 path 設定，快速查找相關檔案"></a>透過 path 設定，快速查找相關檔案</h1><p>看看以下圖片，將 cursor 移動到程式碼標頭檔的位置 (stdio.h)，按下 <code>gf</code>，bang! 你跳到 stdio.h 標頭檔了</p> <img data-src="/2020/11/28/vim-c-env-move/vim_gf.gif" class=""><p>再來看看 <code>:find</code> 指令，我想找出 stdlib.h 標頭檔，使用 <code>:find stdlib.h</code>, 就跳到 stdlib.h 啦</p><p>我們來看看 vim 到底怎麼實現這個魔法的：<br>其實 vim 是藉由 <code>path</code> 這個 option 去搜尋的 (詳見 <code>:help 'path'</code>)，path 這個值由許多路徑組成並由逗號隔開，在 nix 系統裡 vim 對 path 預設的值是</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.,/usr/include,,</span><br></pre></td></tr></tbody></table></figure><p>可以看到三個值：</p><ul><li><code>.</code>： 當前檔案所在的目錄</li><li><code>/usr/include</code>： 很顯然找到 <code>gf</code> 找到的 stdio.h 和 <code>:find</code> 找到的 stdlib.h 是由這個目錄找出來的</li><li>empty string：工作目錄 (current work directory, 通常是 vim 開啟的位置，如果你沒用 <code>:cd</code> 的話)</li></ul><p>所以可以把自己常用的標頭檔所在目錄加入 path ！ 舉個例子 <code>/usr/local/include</code> 也是很常放標頭檔的路徑，所以我把它加入到 path</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> path+=/usr/local/include</span><br></pre></td></tr></tbody></table></figure><p>註: <code>.</code> 和 empty string 的差別請看：<a href="https://vi.stackexchange.com/questions/5998/is-vims-default-path-option-redundant" target="_blank" rel="noopener noreferrer">is-vims-default-path-option-redundant</a></p><p><code>**</code> 算是一個蠻好用的值，它會對路徑做 recursive 的解析，你可能會使用到它，詳細的規則可以看 <code>:help starstar</code></p><h1 id="Source-code-tagging-system-和-vim"><a href="#Source-code-tagging-system-和-vim" class="headerlink" title="Source code tagging system 和 vim"></a>Source code tagging system 和 vim</h1><p>2020 年 Linux kernel 原始碼規模已經達到 2780 萬行，規模如此之龐大，Linux 的程式開發人員到底是怎麼開發的，隨便想找一個 function 定義都相當吃力，總不能用 grep 慢慢去找吧!這時候 source code tagging system 就派上用場了，它可以對專案所有的 symbol 產生索引檔，需要查找目標時就藉由這些索引檔快速查找位置。概念其實就是字典的索引，字典這麼大一本不會有人從頭掃到尾，都是直接翻到字典最後面的索引快速找到目標。</p><p>這些 source code tagging system，通常會產生索引檔並且提供一個介面，讓編輯器使用它們快速在程式碼內定位。</p><p>接下來將逐一介紹 cscope, gtags, ctags 等等三個 source code tagging system 在 vim 裡的基本使用方式。</p><h1 id="Cscope"><a href="#Cscope" class="headerlink" title="Cscope"></a>Cscope</h1><h2 id="Cscope-簡介"><a href="#Cscope-簡介" class="headerlink" title="Cscope 簡介"></a>Cscope 簡介</h2><p>cscope 官網聲稱可以做到以下事情：</p><ul><li>查詢所有使用到這個 symbol 的地方</li><li>查詢全域變數</li><li>查詢 function 在哪被呼叫</li><li>查詢這個 function 呼叫了誰</li><li>使用字串查詢找到目標</li><li>使用 egrep pattern 尋找目標</li><li>快速尋找專案下檔案</li><li>查看哪個檔案 include 當前檔案</li></ul><p>cscope 指令常用選項</p><ul><li>b：只產生索引檔案，不進入互動查詢介面</li><li>q：產生 cscope.in.out 和 cscope.po.out文件，加快 cscope 的索引速度</li><li>k：產生索引檔案时，不搜尋 /usr/include</li><li>R：遞迴搜尋子目錄</li></ul><h2 id="Cscope-和-vim"><a href="#Cscope-和-vim" class="headerlink" title="Cscope 和 vim"></a>Cscope 和 vim</h2><p>在專案目錄產生索引檔案:</p><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cscope -bkqR</span><br></pre></td></tr></tbody></table></figure><p>會產生三個檔案 <code>cscope.in.out</code> <code>cscope.out</code> <code>cscope.po.out</code></p><p>進入 vim 之後可以透過 <code>cs</code> 查看 cscope 在 vim 裡的使用方式</p> <img data-src="/2020/11/28/vim-c-env-move/vim_cscope.png" class=""><p>讓 vim 知道 cscope 的路徑</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> cscopeprg=/path/<span class="keyword">to</span>/<span class="keyword">cscope</span></span><br></pre></td></tr></tbody></table></figure><p>指定 cscope 索引檔案，讓 vim 知道要用哪個索引檔案查詢：</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">cs</span> <span class="built_in">add</span> <span class="keyword">cscope</span>.out</span><br></pre></td></tr></tbody></table></figure><p>接下來就可以使用以下方式查詢 (xxx 為想搜尋的目標):</p><ul><li><code>:cs find a xxx</code> 查尋 xxx 被賦值的地方</li><li><code>:cs find c xxx</code> 查尋所有呼叫 xxx function 的地方</li><li><code>:cs find d xxx</code> 查尋 xxx function 呼叫的所有函數</li><li><code>:cs find e xxx</code> 使用 egrep pattern 查詢</li><li><code>:cs find f xxx</code> 找出 xxx 檔案在哪裡</li><li><code>:cs find g xxx</code> 查尋 xxx 所定義的地方 (通常最常用的是這個)</li><li><code>:cs find i xxx</code> 查尋所有 inlcude xxx 檔案的地方</li><li><code>:cs find s xxx</code> 查尋所有 xxx symbol 出現的地方</li><li><code>:cs find t xxx</code> 查詢 xxx 字串出現的地方，其實搜尋效果就類似 grep</li></ul><p>記得查詢完的結果可以用 <code>:cw</code>, <code>:copen</code> 在 quickfix window 列出：</p><h1 id="GNU-GLOBAL-gtags"><a href="#GNU-GLOBAL-gtags" class="headerlink" title="GNU GLOBAL (gtags)"></a>GNU GLOBAL (gtags)</h1><p>由 GNU GLOBAL 由 GNU 所開發的 soure code tagging system，本身支持四種語言，透過 Pygments 和 Universal Ctags 的 parser 可以支持其他 25 種語言，支援 incremental update，原始碼更動後，只會對改變的地方索引，不會重新索引，這對龐大的專案有很大的幫助。另外 gtags 提供了 cscope 相容的互動介面，叫做 gtags-cscope，讓你用起來像 cscope，但背後其實是 gtags 的索引檔案。</p><p>在專案目錄產生索引檔案：</p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gtags</span><br></pre></td></tr></tbody></table></figure><p>讓 vim 知道 gtags-cscope 路徑：</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> cscopeprg=/path/<span class="keyword">to</span>/gtsgs-<span class="keyword">cscope</span></span><br></pre></td></tr></tbody></table></figure><p>指定 gtags 索引檔案，讓 vim 知道要用哪個索引檔案查詢：</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">cs</span> <span class="built_in">add</span> GTAGS</span><br></pre></td></tr></tbody></table></figure><p>借下來就可以用和 cscope 一樣的方式查詢，除了 <code>:cs find d</code>，其他皆支援</p><h1 id="Ctags"><a href="#Ctags" class="headerlink" title="Ctags"></a>Ctags</h1><h2 id="Ctags-簡介"><a href="#Ctags-簡介" class="headerlink" title="Ctags 簡介"></a>Ctags 簡介</h2><p>最早的 Ctag 在 BSD 上實現，版本變革的歷史脈絡我不是相當清楚，查不太到資料。<br>現在普及的版本是 Exuberant Ctags，一開始和 vim 是一包軟體，一起發布，但在 vim6 之後獨立成兩個專案，從這裏可看出它一定和 vim 兼容良好，但此版本在 2009 年之後已不再維護。建議使用Exuberant Ctags 所 fork 的版本 Universal Ctags，目前還在維護和開發當中。</p><h2 id="Ctags-和-vim"><a href="#Ctags-和-vim" class="headerlink" title="Ctags 和 vim"></a>Ctags 和 vim</h2><p>在專案下生成索引檔案，可以看到目錄裡有 <code>tags</code> 檔案</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ctags -R *</span><br></pre></td></tr></tbody></table></figure><p>指定 tags 索引檔案，讓 vim 知道要用哪個索引檔案查詢：</p><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> <span class="keyword">tags</span>=<span class="keyword">tags</span></span><br></pre></td></tr></tbody></table></figure><p>再來就可以使用:</p><ul><li><code>Ctrl + ]</code>: 跳到定義，如果有多個匹配則會跳到第一個</li><li><code>Ctrl + T</code>: 跳回原本的地方</li></ul><p>每次用 <code>ctrl + ]</code> 跳轉到定義，vim 就會把這位置推到 tag stack 裡，每次 <code>ctrl + T</code> 跳回原來的地方，vim 就會從 tag stack 裡 pop 位置出來，我們可以使用 <code>:tags</code> 看到 tag stack 裡的內容。</p><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul><li><p><a href="https://dev.to/iggredible/how-to-use-tags-in-vim-to-jump-to-definitions-quickly-2g28" target="_blank" rel="noopener noreferrer">https://dev.to/iggredible/how-to-use-tags-in-vim-to-jump-to-definitions-quickly-2g28</a></p></li><li><p><a href="http://praton.me/2020/04/11/Exploring-kernel-code-with-vim.html" target="_blank" rel="noopener noreferrer">http://praton.me/2020/04/11/Exploring-kernel-code-with-vim.html</a></p></li><li><p><a href="https://neovim.io/doc/user/usr_29.html" target="_blank" rel="noopener noreferrer">:help usr_29.txt</a></p></li><li><p><a href="https://neovim.io/doc/user/usr_30.html" target="_blank" rel="noopener noreferrer">:help usr_30.txt</a></p></li><li><p><a href="https://neovim.io/doc/user/tagsrch.html" target="_blank" rel="noopener noreferrer">:help tagsrch.txt</a></p></li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/vim/" rel="tag"># vim</a> <a href="/tags/neovim/" rel="tag"># neovim</a> <a href="/tags/c/" rel="tag"># c</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/10/03/vim-commonly-used-motion/" rel="prev" title="聊聊你在 vim 常用的移動方式"><i class="fa fa-chevron-left"></i> 聊聊你在 vim 常用的移動方式</a></div><div class="post-nav-item"></div></div></footer></article></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#常用跳轉操作"><span class="nav-number">1.</span> <span class="nav-text">常用跳轉操作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#透過-path-設定，快速查找相關檔案"><span class="nav-number">2.</span> <span class="nav-text">透過 path 設定，快速查找相關檔案</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Source-code-tagging-system-和-vim"><span class="nav-number">3.</span> <span class="nav-text">Source code tagging system 和 vim</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Cscope"><span class="nav-number">4.</span> <span class="nav-text">Cscope</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cscope-簡介"><span class="nav-number">4.1.</span> <span class="nav-text">Cscope 簡介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cscope-和-vim"><span class="nav-number">4.2.</span> <span class="nav-text">Cscope 和 vim</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#GNU-GLOBAL-gtags"><span class="nav-number">5.</span> <span class="nav-text">GNU GLOBAL (gtags)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ctags"><span class="nav-number">6.</span> <span class="nav-text">Ctags</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Ctags-簡介"><span class="nav-number">6.1.</span> <span class="nav-text">Ctags 簡介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ctags-和-vim"><span class="nav-number">6.2.</span> <span class="nav-text">Ctags 和 vim</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">7.</span> <span class="nav-text">Reference</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="amikai" src="/images/avatar.JPEG"><p class="site-author-name" itemprop="name">amikai</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">9</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">1</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/amikai" title="GitHub → https://github.com/amikai" rel="noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:as23041248@gmail.com" title="E-Mail → mailto:as23041248@gmail.com" rel="noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> © <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">amikai</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener noreferrer" target="_blank">Hexo</a> &amp; <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener noreferrer" target="_blank">NexT.Pisces</a></div><div class="busuanzi-count"><script async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'a7fb427a2efcda5f9e1e',
      clientSecret: '4553b6babb44ed8fbe989a20ea43655bdc344bbf',
      repo        : 'amikai.github.io',
      owner       : 'amikai',
      admin       : ['amikai'],
      id          : '552855e81b5514537a6bcef00a856d3c',
        language: 'en',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></body></html>
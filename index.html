<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"amikai.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!0,lazyload:!0,pangu:!0,comments:{style:"tabs",active:"gitalk",storage:!0,lazyload:!1,nav:null,activeClass:"gitalk"},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta property="og:type" content="website"><meta property="og:title" content="no code no pain"><meta property="og:url" content="https://amikai.github.io/index.html"><meta property="og:site_name" content="no code no pain"><meta property="og:locale" content="en_US"><meta property="article:author" content="amikai"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://amikai.github.io/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!0,isPost:!1,lang:"en"}</script><title>no code no pain</title><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-172478407-1"></script><script>if(CONFIG.hostname===location.hostname){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-172478407-1")}</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="no code no pain" type="application/atom+xml"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">no code no pain</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">amikai notes</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> Archives</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div> <a href="https://github.com/amikai" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener noreferrer" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content index posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/11/28/vim-c-env-move/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/11/28/vim-c-env-move/" class="post-title-link" itemprop="url">在 (neo)vim 裡 C 語言程式碼導覽技巧</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-11-28 21:50:57" itemprop="dateCreated datePublished" datetime="2020-11-28T21:50:57+08:00">2020-11-28</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-11-29 01:19:30" itemprop="dateModified" datetime="2020-11-29T01:19:30+08:00">2020-11-29</time></span></div></header><div class="post-body" itemprop="articleBody"><p>現代的專案開發，很少在從無到有打造，大部分都是基於現有的程式之上繼續開發或維護，進入專案之後，通常第一件事就是大量閱讀程式碼理清專案的整個脈絡，才開始著手寫 code，所以好的程式碼導覽技巧將會帶你上天堂。</p><p>我將大部分的程式碼導覽情境大致拆成了三種情況：</p><ul><li>基本的跳轉：<ul><li><code>#if</code> <code>#endif</code> 中間的程式碼太長，想要跳轉到成對的 <code>#if</code> <code>#endif</code></li><li>cursor 在 {…} block 裡， 這個 block 又臭又長，想快速跳轉 block 的開頭和結尾</li><li>註解長篇大論，想快速跳到註解的開頭或結尾</li></ul></li><li>尋找專案下檔案 (可透過設定 path option 解決)<ul><li>跳轉到標頭檔</li><li>跳轉到指定檔案</li></ul></li><li>使用 source code tagging system 快速挑轉到 function 定義及特定 symbol 等等：<br>專案相當大的時候，source code tagging system 相當好用，可以快速找到定位，也不會花掉太多的資源，比起 LSP 的跳轉定義，是較輕量的選擇。</li></ul><p>本篇依據上述三種情境，一一講述。<br></p><div class="post-button"> <a class="btn" href="/2020/11/28/vim-c-env-move/#more" rel="contents">Read more »</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/10/03/vim-commonly-used-motion/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/10/03/vim-commonly-used-motion/" class="post-title-link" itemprop="url">聊聊你在 vim 常用的移動方式</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-10-03 10:53:36 / Modified: 19:18:58" itemprop="dateCreated datePublished" datetime="2020-10-03T10:53:36+08:00">2020-10-03</time></span></div></header><div class="post-body" itemprop="articleBody"><p>看下圖，如果想將 <code>&lt;expr&gt;</code> 改成 <code>&lt;leader&gt;</code> 你會怎麼做呢?</p> <img data-src="/2020/10/03/vim-commonly-used-motion/question.png" class=""><p>通常我看過的幾種方式如下：</p><ol><li>使用 <code>j</code> 向下到 97 行，在使用 <code>l</code> 到 target 並且開始編輯，這也是最糟的</li><li>target 的行數看起來離 window 中央行很近， 使用 <code>M</code> 跳到 window 中央行，再使用 <code>h</code> <code>j</code> <code>k</code> <code>l</code> 到 target</li><li>使用 <code>:set number</code> 列出行號， 按下 <code>97G</code> 到達 97 行， <code>fe</code> <code>;</code> <code>;</code> <code>;</code><br>註: <code>f{char}</code> 找到此行的下一個字母、 <code>;</code> 為重複上一個 <code>f</code> 命令</li><li>使用 <code>/</code> 搜尋 <code>expr</code>，在使用 <code>n</code> <code>n</code> <code>n</code> <code>n</code> 到 target</li><li><del>使用 <code>set mouse=n</code>，用滑鼠點 target</del><div class="post-button"> <a class="btn" href="/2020/10/03/vim-commonly-used-motion/#more" rel="contents">Read more »</a></div></li></ol></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/09/29/vim-tips-highlight-yank-region/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/09/29/vim-tips-highlight-yank-region/" class="post-title-link" itemprop="url">vim 高亮 yank 區域</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-09-29 21:09:01 / Modified: 22:51:27" itemprop="dateCreated datePublished" datetime="2020-09-29T21:09:01+08:00">2020-09-29</time></span></div></header><div class="post-body" itemprop="articleBody"><p><code>y</code> 是在 vim 裡最常使用的使用的 operator 之一，使用 <code>y</code> operator 將會執行 yank 動作，但它無法像 <code>c</code> (change) 和 <code>d</code> (delete) operator 使用之後馬上就知道對文件編輯了什麼。yank 動作是沒有反饋的，按了 <code>yiw</code> 複製 word 之後，你也無法確定是不是按對了，還要使用 <code>:reg</code> 檢視，頗麻煩的。</p><p>解決方案：在使用 yank operator 之後，高亮複製區域短暫的時間，就能確認複製的區域有沒有誤。以下圖例為，在 23 行按下 <code>yy</code>, 在 24 行的 return 上按下 <code>yiw</code></p> <img data-src="/2020/09/29/vim-tips-highlight-yank-region/cover.gif" class=""><div class="post-button"> <a class="btn" href="/2020/09/29/vim-tips-highlight-yank-region/#more" rel="contents">Read more »</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/09/22/vim-text-object/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/09/22/vim-text-object/" class="post-title-link" itemprop="url">你應該擴充的 text object</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-09-22 19:03:52" itemprop="dateCreated datePublished" datetime="2020-09-22T19:03:52+08:00">2020-09-22</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-09-23 13:12:44" itemprop="dateModified" datetime="2020-09-23T13:12:44+08:00">2020-09-23</time></span></div></header><div class="post-body" itemprop="articleBody"><p>vim 高效率編輯的背後，operator, motion, text object 的配合功不可沒。</p><p>operator 是編輯的動作， text object 就是文字區塊，motion 是跳轉到文件點，透過三者的按鍵配合，就能達到所想及所得的編輯方式。</p><p>如果你有看過別人使用 vim ，通常會有這種想法：怎麼隨便按幾個鍵就刪這裡刪那裡複製這裡複製那裡，速度快到看不懂在幹嘛，而且還不會出錯，因為只要想好要做什麼，按鍵按下去就對了，這也是為什麼會高效率。說了一堆，反正就是 <del><strong>耍潮必備</strong></del>。</p><p>本篇將會提到:</p><ul><li><p>operator, text object, motion 的配合用法</p></li><li><p>內建 text object 的不足之處</p></li><li><p>擴充 text object 的 plugin</p></li><li><p>淺談 nvim-treesitter</p><div class="post-button"> <a class="btn" href="/2020/09/22/vim-text-object/#more" rel="contents">Read more »</a></div></li></ul></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/09/10/vim-make/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/09/10/vim-make/" class="post-title-link" itemprop="url">誰說不能在 vim 裡編譯，從 :make 到 :Make</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-09-10 00:21:31" itemprop="dateCreated datePublished" datetime="2020-09-10T00:21:31+08:00">2020-09-10</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-09-11 14:15:10" itemprop="dateModified" datetime="2020-09-11T14:15:10+08:00">2020-09-11</time></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>回想一下，上一次使用 vim 寫 code 到一個段落要編譯時，你是怎麼做的。</p><p>我看到大多數人的方式，就是將 terminal 切成兩塊，一塊寫 code，一塊編譯，若編譯有錯誤，再移動到寫 code 區塊更改。<br>如果使用此方法，當專案有規模時，編譯錯誤一百條，看了編譯錯誤在哪之後，再將編譯錯誤的位置，從專案裡找出來，反覆來回 100 次，直到修正完畢。<br>本文以 C 語言專案為例 (當然不是只有 C 語言才能這樣子幹，可看 Q&amp;A)，聊聊強大的 vim 在這種情境下有什麼好的解決方案。</p> <img data-src="/2020/09/10/vim-make/tmux_split.png" class=""><div class="post-button"> <a class="btn" href="/2020/09/10/vim-make/#more" rel="contents">Read more »</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/09/07/vim-mark-tips/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/09/07/vim-mark-tips/" class="post-title-link" itemprop="url">聊聊 vim mark 使用情境 - code 參照</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-09-07 15:03:01" itemprop="dateCreated datePublished" datetime="2020-09-07T15:03:01+08:00">2020-09-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-09-09 11:14:26" itemprop="dateModified" datetime="2020-09-09T11:14:26+08:00">2020-09-09</time></span></div></header><div class="post-body" itemprop="articleBody"> <img data-src="/2020/09/07/vim-mark-tips/cover.png" class=""><p>寫程式的時候常常遇到一種情況，假設你是團隊的新人，需要常常參照別人的程式，看看團隊的 coding style 等等，可能需要參照 A file 的第 10 行，B file 第 8 行，C file 第 999 行。</p><p>另一種情境則是在寫測試的時候會和實作交互參照，而測試程式往往和實作程式會拆開不同的檔案，所以就必須要一直跳轉。</p><p>使用 split 的方式縱然是一個不錯的方式，但是如果要參照的點大於三個，就將螢幕切成三份，那工程師就相當痛苦了，不是每個人都用這種電腦螢幕啊。這種 split 的方式還有另一個缺點：如果手殘將檔案關掉，就得重找。</p> <img data-src="/2020/09/07/vim-mark-tips/cj890.jpg" class=""><div class="post-button"> <a class="btn" href="/2020/09/07/vim-mark-tips/#more" rel="contents">Read more »</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/09/03/go_neovim_env/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/09/03/go_neovim_env/" class="post-title-link" itemprop="url">Golang 開發環境 - 使用 neovim</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-09-03 10:48:54" itemprop="dateCreated datePublished" datetime="2020-09-03T10:48:54+08:00">2020-09-03</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-09-08 18:58:08" itemprop="dateModified" datetime="2020-09-08T18:58:08+08:00">2020-09-08</time></span></div></header><div class="post-body" itemprop="articleBody"> <img data-src="/2020/09/03/go_neovim_env/cover.png" class=""><h1 id="你確定要用-neovim-開發-golang"><a href="#你確定要用-neovim-開發-golang" class="headerlink" title="你確定要用 neovim 開發 golang?"></a>你確定要用 neovim 開發 golang?</h1><p>現在是 vscode 稱霸天下的時代，理所當然的 (neo)vim 也常常被拿來 vscode 比較，vscode 內建整合了 git、debugger、自動補全引擎、terminal、extension manager，另外 Golang 在 vscode 上的 extension 支援相當良好: 包括跳轉到定義 (go to definition)、重新命名 (rename)、跳轉到型態定義 (go to type definition)⋯⋯ 一堆細節功能，近期由於 google golang team 接手 go 語言的 vscode extension，相信使用 vscode 開發是不錯的選擇。</p><p> (neo)vim 當然也能達到 vscode 的類似功能，但是必須花時間設定調教，在 vscode 問世之前我會推薦 (Neo)vim 給我的朋友，vscode 問世之後我就開始推薦 vscode。</p><blockquote><p>本文給那些本來就在 (neo)vim 裡打滾的人，但對 go 語言設定不熟的人，<br>如果你是一張白紙，而且沒有被虐的癖好，我建議選擇 vscode，可以用較少的時間進入到寫程式的環節，而不是一直在花時間在設定，這篇文你也沒必要看下去。</p></blockquote><h1 id="預備動作"><a href="#預備動作" class="headerlink" title="預備動作"></a>預備動作</h1><p>Must have</p><ul><li>你應該先安裝好 neovim nightly 版本，<code>brew install neovim --HEAD</code></li><li>你應該要知道怎麼使用 vim-plug，至少要知道 <code>:PlugInstall</code></li><li>你應該先把 go 語言環境安裝好</li></ul><p>Nice to have</p><ul><li>你知道 <code>:checkhealth</code> 和 <code>:UpdateRemotePlugin</code></li><li>你熟悉 <code>:help</code> 的使用方式，這裡有一篇好文：<a href="https://vim.fandom.com/wiki/Learn_to_use_help" target="_blank" rel="noopener noreferrer">Learn to use help</a></li></ul><h1 id="開發環境基本功能"><a href="#開發環境基本功能" class="headerlink" title="開發環境基本功能"></a>開發環境基本功能</h1><p>一個好用的 Editor 我認為應該包含以下幾點基本功能:</p><ul><li>Auto completion - 好的自動補全引擎</li><li>File manager - 可以在側邊欄看到專案的結構</li><li>Real time linter - 在寫 code 犯錯的同時，有一些提示 (也就是 diagnostic 功能)</li><li>Background compile - 編譯的同時不應該卡住整個 Editor，要讓使用者能做其他事情</li><li>Code navigation: 包含跳轉到定義，跳轉到型態定義，或是當一個檔案寫得很長的時候，怎麼綜觀全局</li></ul><p>以下我將會介紹我使用的 Plugin，達到我上述所提到的功能。<br>以下使用的皆是 Neovim nightly 版本，使用 stable 是沒有官方 LSP 支援的。</p><p>Note：neovim 是由 vim 所 fork 出來的，差異介紹請看<a href="https://kerol2r20.github.io/post/2017-10-29-neovim-introdunction/" target="_blank" rel="noopener noreferrer">這篇</a>，某些 Plugin 不會同時相容於兩者，我接會標明。</p><div class="post-button"> <a class="btn" href="/2020/09/03/go_neovim_env/#more" rel="contents">Read more »</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/07/07/golang78syntax2/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/07/07/golang78syntax2/" class="post-title-link" itemprop="url">Golang 78 語法篇 - method set</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-07-07 13:42:50" itemprop="dateCreated datePublished" datetime="2020-07-07T13:42:50+08:00">2020-07-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-09-09 14:20:20" itemprop="dateModified" datetime="2020-09-09T14:20:20+08:00">2020-09-09</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/golang78syntax/" itemprop="url" rel="index"><span itemprop="name">golang78 syntax series</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p><code>method set</code>, <code>interface</code>, <code>auto deference or reference</code> 當這些語法綜合再一起使用時，很容易混淆，甚至寫出 bug code，這章我們就透過題目探討一下 <code>method set</code> 常常被大家誤會的地方。</p> <a href="/2020/07/03/golang78syntax/" title="Golang 78 語法篇 - interface">Golang 78 語法篇 - interface</a> Line 50 用到的概念就在這篇。<h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>請問以下程式輸出結果為何</p><figure class="highlight golang"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Employee <span class="keyword">struct</span> {}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e Employee)</span> <span class="title">DoWork</span><span class="params">()</span></span> {</span><br><span class="line">	fmt.Println(<span class="string">"do work"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	(&amp;Employee{}).DoWork()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>答案只有兩種方向:<br> 1. 無法編譯<br> 2. 印出 do work</p><p>這個程式可以編譯，並且還印出 do work 但是為什麼呢？</p><div class="post-button"> <a class="btn" href="/2020/07/07/golang78syntax2/#more" rel="contents">Read more »</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://amikai.github.io/2020/07/03/golang78syntax/"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.JPEG"><meta itemprop="name" content="amikai"><meta itemprop="description" content=""></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="no code no pain"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"> <a href="/2020/07/03/golang78syntax/" class="post-title-link" itemprop="url">Golang 78 語法篇 - interface</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-07-03 10:59:36" itemprop="dateCreated datePublished" datetime="2020-07-03T10:59:36+08:00">2020-07-03</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2020-07-12 06:34:33" itemprop="dateModified" datetime="2020-07-12T06:34:33+08:00">2020-07-12</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/golang78syntax/" itemprop="url" rel="index"><span itemprop="name">golang78 syntax series</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>Interface 可以說是 golang 的精髓之一。golang interface 特殊的語法以及概念也是工程師常常犯錯的地方。此題只是用來釐清自己的概念。</p><h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>請問以下程式輸出結果為何</p><figure class="highlight golang"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> S <span class="keyword">struct</span>{</span><br><span class="line">    val <span class="keyword">int</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s S)</span> <span class="title">F</span><span class="params">()</span></span> {}</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> IF <span class="keyword">interface</span> {</span><br><span class="line">	F()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitType</span><span class="params">()</span> <span class="title">S</span></span> {</span><br><span class="line">	<span class="keyword">var</span> s S</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitPointer</span><span class="params">()</span> *<span class="title">S</span></span> {</span><br><span class="line">	<span class="keyword">var</span> s *S</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitEfaceType</span><span class="params">()</span> <span class="title">interface</span></span>{} {</span><br><span class="line">	<span class="keyword">var</span> s S</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitEfacePointer</span><span class="params">()</span> <span class="title">interface</span></span>{} {</span><br><span class="line">	<span class="keyword">var</span> s *S</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitIfaceType</span><span class="params">()</span> <span class="title">IF</span></span> {</span><br><span class="line">	<span class="keyword">var</span> s S</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitIfacePointer</span><span class="params">()</span> <span class="title">IF</span></span> {</span><br><span class="line">	<span class="keyword">var</span> s *S</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="comment">// fmt.Println(InitType() == nil) // type mismatch</span></span><br><span class="line">	fmt.Println(InitPointer() == <span class="literal">nil</span>)</span><br><span class="line">	fmt.Println(InitEfaceType() == <span class="literal">nil</span>)</span><br><span class="line">	fmt.Println(InitEfacePointer() == <span class="literal">nil</span>)</span><br><span class="line">	fmt.Println(InitIfaceType() == <span class="literal">nil</span>)</span><br><span class="line">	fmt.Println(InitIfacePointer() == <span class="literal">nil</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><div class="post-button"> <a class="btn" href="/2020/07/03/golang78syntax/#more" rel="contents">Read more »</a></div></div><footer class="post-footer"><div class="post-eof"></div></footer></article></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="amikai" src="/images/avatar.JPEG"><p class="site-author-name" itemprop="name">amikai</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">9</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">1</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">4</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/amikai" title="GitHub → https://github.com/amikai" rel="noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:as23041248@gmail.com" title="E-Mail → mailto:as23041248@gmail.com" rel="noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> © <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">amikai</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener noreferrer" target="_blank">Hexo</a> &amp; <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener noreferrer" target="_blank">NexT.Pisces</a></div><div class="busuanzi-count"><script async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script></body></html>